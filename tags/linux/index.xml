<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Linux on JuicyMio&#39;s Blog</title>
    <link>https://juicymio.github.io/tags/linux/</link>
    <description>Recent content in Linux on JuicyMio&#39;s Blog</description>
    <image>
      <title>JuicyMio&#39;s Blog</title>
      <url>https://juicymio.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</url>
      <link>https://juicymio.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <lastBuildDate>Mon, 01 Apr 2024 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://juicymio.github.io/tags/linux/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>开启linux kernel rust support</title>
      <link>https://juicymio.github.io/posts/linux_kernel_rust_support/</link>
      <pubDate>Mon, 01 Apr 2024 00:00:00 +0000</pubDate>
      <guid>https://juicymio.github.io/posts/linux_kernel_rust_support/</guid>
      <description>背景 试图用Rust做操作系统小组作业，某组员遇到环境配置问题。我尝试了一下，发现网上中文资料确实比较少，而且官方文档翻译略有过时。（可能有Rust更新比较快的原因。于是写了篇没什么用的流水账记录一下编译一个启用Rust支持的Linux kernel的过程。
环境配置 本文所述内容均在archlinux下进行。
Rust: 参照官方文档配置一下rust相关环境。 LLVM 省流版（不保证完全准确，在我这能跑）：
从 https://www.kernel.org/ 下载linux-6.8.2源码
在linux-6.8.2目录下切换rustc版本
rustup override set $(scripts/min-tool-version.sh rustc) 添加rust-src
rustup component add rust-src 安装bindgen-cli
注意：此处中文文档已经滞后，需要安装的是bindgen-cli而非bindgen. 详见： https://github.com/rust-lang/cargo/issues/11249
cargo install --locked --version $(scripts/min-tool-version.sh bindgen) bindgen-cli 需要将~/.cargo/bin添加到环境变量
生成rust-analyzer配置文件
make LLVM=1 rust-analyzer 查看rust工具链是否符合要求
make LLVM=1 rustavailable 在我这的输出是(我没锁bindgen版本)
❯ make LLVM=1 rustavailable *** *** Rust bindings generator &amp;#39;bindgen&amp;#39; is too new. This may or may not work. *** Your version: 0.69.4 *** Expected version: 0.</description>
    </item>
  </channel>
</rss>
