---
layout: post
title: UVA12563 劲歌金曲
date: 2019-12-20 13:12:53
tags: [DP]
mathjax: true
---

## 链接

[Luogu](https://www.luogu.com.cn/problem/UVA12563)  

## 题解

由于每首歌不超过三分钟,且所有歌的总时长超过$t$,所以一共不会超过 $180*50+678$ 秒.于是可以转化01背包.  

显然劲歌金曲一定要选,所以DP的时候留一秒给劲歌金曲,最后还要计算时间总长度,在背包数组里寻找答案所在的时间即可.具体可见代码.

## 代码

```cpp
#include<cstdio>
#include<algorithm>
#include<cstring>

const int MAXN = 100;

int read()
{
    char c;
    int f = 1,ans = 0;
    do
    {
        /* code */
        c = getchar();
        if(c == '-')
            f = -1;
    } while (c < '0' || c > '9');
    do
    {
        /* code */
        ans = (ans << 3) + (ans << 1) + c - '0';
        c = getchar();
    } while (c >= '0' && c <= '9');
    return f * ans;
}

int time[MAXN];
int f[MAXN*180+678];
int main()
{
    int T = read();
    for (int casenum = 1;casenum <= T;casenum ++)
    {
        memset(f,0x8f,sizeof(f));
        f[0] = 0;
        int n = read(),t = read();
        for (int i = 1;i <= n;i ++)
        {
            time[i] = read();
            for (int j = t - 1;j >= time[i];j --)
                f[j] = std::max(f[j],f[j-time[i]]+1);
        }
        int ans = t - 1;
        for (int j = t - 1;j >= 0;j --)
            if(f[j] > f[ans])
                ans = j;
        printf("Case %d: %d %d\n",casenum,f[ans] + 1,ans + 678);
    }
}
```

